<app-header></app-header>

<div class="container cours">
    <div class="row">
        <div class="col-sm-12">
            <h1>FORMATION | {{formation}}</h1>
        </div>

        <!-- CONTENT MODULE -->
        <div class="col-sm-4 nav-left">
            <app-module [listModules]="listModules" (emitModule)="emitDataModule($event)"></app-module>
        </div>

        <div class="col-sm-8 text-center" *ngIf="formationContent == false">
            <h3>Veuillez choisir votre module actuel</h3>
        </div>

        <div class="col-sm-8" *ngIf="formationContent == true">
            <h3><i class="material-icons">chevron_right</i> Module <b>{{moduleName}}</b></h3>
            <!-- CONTENT QUESTIONNAIRE -->
            <div *ngIf="alertQuestions == false">
                <h5> Question n°{{indexQuestions+1}} : {{question}}</h5>
                <form>
                    <div class="form-check animate__animated animate__fadeInDown" *ngFor="let item of listAnswers">
                        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1"
                            value="option2" [value]="item.id" (change)="onSelectionChange(item)">
                        <label class="form-check-label" for="exampleRadios1">
                            {{item.content}}
                        </label>
                    </div>
                </form>
            </div>
            <div *ngIf="alertQuestions == true">
                <h3 class="col-sm-8 text-center">Ce module n'a pas de contenu</h3>
            </div>
            <div class="row nav-slide">
                <div class="text-left col-6" *ngIf="showPreviouxButton == true">
                    <span class="btn btn-primary" (click)="previous()"><i class="material-icons">chevron_left</i></span>
                </div>
                <div class="text-right col-12" *ngIf="showPreviouxButton == false && showNextButton == true">
                    <span class="btn btn-primary" (click)="next()"><i class="material-icons">chevron_right</i></span>
                </div>
                <div class="text-right col-6" *ngIf="showPreviouxButton == true && showNextButton == true">
                    <span class="btn btn-primary" (click)="next()"><i class="material-icons">chevron_right</i></span>
                </div>
                <div class="text-right col-6" *ngIf="showPreviouxButton == true && showNextButton == false">
                    <button type="submit" class="btn btn-primary btn-sm" (click)="openModal(confirmAction)">Valider</button>
                </div>
            </div>
        </div>
    </div>
</div>
<p class="text-center copyright">
    © Copyright 2020 Madacan
</p>

<!-- CONFIRM MODAL -->
<ng-template #confirmAction>
    <div class="modal-header">
        <h5>Attention !!!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body modal-connect d-flex justify-content-center">
        Etes-vous sûr de valider votre essai ?
    </div>

    <div class="form-group d-flex justify-content-center mt-5">
        <button class="btn btn-md btn-primary mr-1" (click)="pushResult()">
            OUI
        </button>
        <button class="btn btn-md btn-primary ml-1" (click)="closeModal()">
            NON
        </button>
    </div>
</ng-template>